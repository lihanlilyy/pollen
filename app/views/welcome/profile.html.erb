<% provide(:title, "Profile") %>
<!DOCTYPE html>
<html>
    <head>
        <title><%= full_title(yield(:title)) %></title>
    </head>
    <body>
        <div class="row">
            <aside class="col-md-4">
                <section class="user_info">
                    <h1>
                        <%= current_user.firstname %> 
                        <%= current_user.lastname %> 
                        <br>
                    </h1>
                    <h2>
                        Language:
                        <% current_user.languages.each do |l| %>
                            <%= l.lang %>, 
                        <% end %>
                        <% current_user.fluencies.each do |l| %>
                            <% if l.level == 1 %>
                                <%= "Beginner" %>
                            <% elsif l.level == 2 %>
                                <%= "Lower Intemediate" %>
                            <% elsif l.level == 3 %>
                                <%= "Upper Intermediate" %>
                            <% elsif l.level == 4 %>
                                <%= "Advanced" %>
                            <% else %>
                                <%= "Native Speaker/ Full Language Proficiency" %>
                            <%end%>
                        <% end %>
                    </h2>
                    <p>
                    <% if signed_in? %>
                        <section class="stats">
                            <%= render 'shared/stats' %>
                        </section>
                        <br>
                        Signed in as: <%= current_user.email %>
                        <%= link_to "edit profile", edit_user_path(current_user) %>
                        <%= button_to 'Sign out', sign_out_path, method: :delete %> 
                    <% else %>
                        <%= button_to 'Sign in', sign_in_path %>
                    <% end %>
                    <%= render 'users/follow_form' if logged_in? %>
                    <%= link_to "Create new entry", 'entries/new' %>
                    <section>
                        <%= render 'shared/journal_form' %>
                    </section>
                    </p>
                </section>
            </aside>
            <div class="col-md-8">
                <% if current_user.journals.any? %>
                    <h3>Journals (<%= current_user.journals.count %>)</h3>
                    <ol class="journals">
                        <%= render @journals %>
                    </ol>
                    <%= will_paginate @journals %>
                <% end %>
          </div>
        </div>

    </body>
</html>
